<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kids Worksheet Generator</title>
    <!-- Preload Arabic font for better PDF rendering -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Poppins:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Poppins:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap');
      html, body {
        font-family: 'Poppins', sans-serif;
        overflow-x: hidden;
      }
      .font-comic {
        font-family: 'Comic Neue', cursive;
      }
      .font-arabic {
        font-family: 'Amiri', serif;
        font-size: 1.2em;
        line-height: 1.8;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-feature-settings: normal;
        font-variant-ligatures: normal;
      }
      .trace-text {
        color: #d1d5db; /* gray-300 */
        border-bottom: 2.5pt solid #9ca3af; /* Using pt for consistent rendering */
        letter-spacing: 0.5em;
      }

      /* Standardized border for consistent PDF rendering - using pt units */
      .border-b-3 {
        border-bottom-width: 3pt;
        border-bottom-style: solid;
      }

      /* Ensure answer lines render well in PDF exports - using pt units */
      .answer-line {
        border-bottom-width: 2pt;
        border-bottom-style: solid;
        border-bottom-color: #4b5563;
        display: inline-block;
        vertical-align: baseline;
        margin-left: 0.5rem;
        height: 1em;
        line-height: 1;
      }

      /* Utility class for baseline alignment of answer lines in exercises */
      .align-baseline {
        vertical-align: baseline;
        height: 1.2em;
        line-height: 1;
      }

      /* Ensure dotted borders render well in PDF - using solid borders for consistency */
      .dotted-line {
        border-bottom-width: 2.5pt;
        border-bottom-style: solid;
        border-bottom-color: currentColor;
        display: inline-block;
        min-height: 1.5pt;
        vertical-align: middle;
      }

      /* Ensure emojis render properly */
      .font-comic span {
        line-height: 1.2;
      }

      /* Custom animations for playful effects */
      @keyframes float {
        0%, 100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes wiggle {
        0%, 100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(-5deg);
        }
        75% {
          transform: rotate(5deg);
        }
      }

      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .animate-wiggle {
        animation: wiggle 2s ease-in-out infinite;
      }

      /* Delay classes for staggered animations */
      .delay-100 {
        animation-delay: 0.1s;
      }

      .delay-200 {
        animation-delay: 0.2s;
      }

      .delay-300 {
        animation-delay: 0.3s;
      }

      /* Theme Backgrounds */
      .theme-space {
        background-color: #f0f4f8;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmMGY0ZjgiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjMwIiByPSIyIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTUwIDYwIEw1MiA1OCBMNTAgNTYgTDUyIDU4IFoiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI4MCIgY3k9IjIwIiByPSIxLjUiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI3MCIgY3k9IjgwIiByPSIzIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMwIDgwIEwzMiA3OCBMMzAgNzYgTDMyIDc4IFoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=');
      }
      .theme-ocean {
        background-color: #e0f2fe;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNlMGYyZmUiLz48cGF0aCBkPSJNMCAyMCBDIDI1IDAgNTAgNDAgNzUgMjAgQyAxMDAgMCAxMDAgMjAgMTAwIDIwIFYgMTAwIEggMCBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNiZmU2ZjIiIHN0cm9rZS1widthD0iMiIgc3Ryb2tlLW9wYWNpdHk9IjAuNSIvPjxwYXRoIGQ9Ik0wIDUwIEMgMjUgMzAgNTAgNzAgNzUgNTAgQyAxMDAgMzAgMTAwIDUwIDEwMCA1MCBWIDEwMCBIIDAgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYmZlNmYyIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1vcGFjaXR5PSIwLjUiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjgwIiByPSIzIiBmaWxsPSIjYmZlNmYyIiBvcGFjaXR5PSIwLjUiLz48Y2lyY2xlIGN4PSI4MCIgY3k9IjQwIiByPSIyIiBmaWxsPSIjYmZlNmYyIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=');
      }
      .theme-garden {
        background-color: #f0fdf4;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmMGZkZjQiLz48cGF0aCBkPSJNNTAgODAgQzQwIDgwIDQwIDcwIDUwIDcwIEM2MCA3MCA2MCA4MCA1MCA4MCBaIiBmaWxsPSIjOGZjYTg2IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNNTAgNzIgQzQ4IDcyIDQ4IDY4IDUwIDY4IEM1MiA2OCA1MiA3MiA1MCA3MiBaIiBmaWxsPSIjZjllNDc4IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNMjAgNDAgQzEwIDQwIDEwIDMwIDIwIDMwIEMzMCAzMCAzMCA0MCAyMCA0MCBaIiBmaWxsPSIjOGZjYTg2IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNMjAgMzIgQzE4IDMyIDE4IDI4IDIwIDI4IEMyMiAyOCAyMiAzMiAyMCAzMiBaIiBmaWxsPSIjZjllNDc4IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNNCA2MCBDNzAgNjAgNzAgNTAgODAgNTAgQzkAgNTAgOTAgNjAgODAgNjAgWiIgZmlsbD0iIzhmY2E4NiIgb3BhY2l0eT0iMC43Ii8+PHBhdGggZD0iTTgwIDUyIEM3OCA1MiA3OCA0OCA4MCA0OCBDODIgNDggODIgNTIgODAgNTIgWiIgZmlsbD0iI2Y5ZTQ3OCIgb3BhY2l0eT0iMC43Ii8+PC9zdmc+');
      }

      /* Border Themes - using pt for consistent rendering */
      .border-simple {
        border: 6pt solid #9333ea !important;
        box-shadow: 0 0 0 3pt #e9d5ff;
      }

      .border-stars {
        border: 6pt solid #fbbf24 !important;
        background-image:
          radial-gradient(circle at 10px 10px, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 90% 10px, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 10px 90%, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 90% 90%, #fbbf24 2px, transparent 2px);
        background-size: 100% 100%;
        background-repeat: no-repeat;
        box-shadow: inset 0 0 0 3pt #fef3c7;
      }

      .border-rainbow {
        border: 6pt solid transparent !important;
        background-image:
          linear-gradient(white, white),
          linear-gradient(90deg, #ef4444, #f59e0b, #eab308, #22c55e, #3b82f6, #a855f7, #ec4899);
        background-origin: padding-box, border-box;
        background-clip: padding-box, border-box;
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
      }

      .border-flowers {
        border: 6pt solid #ec4899 !important;
        position: relative;
        box-shadow: inset 0 0 0 3pt #fce7f3;
      }
      .border-flowers::before {
        content: 'ðŸŒ¸ ðŸŒº ðŸŒ» ðŸŒ· ðŸŒ¼';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-hearts {
        border: 6pt solid #ec4899 !important;
        position: relative;
        box-shadow: inset 0 0 0 3pt #fce7f3;
      }
      .border-hearts::before {
        content: 'ðŸ’• ðŸ’– ðŸ’— ðŸ’“ ðŸ’';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-animals {
        border: 6pt solid #f97316 !important;
        position: relative;
        box-shadow: inset 0 0 0 3pt #fed7aa;
      }
      .border-animals::before {
        content: 'ðŸ¾ ðŸ¦ ðŸ˜ ðŸ¦Š ðŸ¨';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-geometric {
        border: 6pt solid #3b82f6 !important;
        background-image:
          repeating-linear-gradient(45deg, #3b82f6 0, #3b82f6 10px, transparent 10px, transparent 20px),
          repeating-linear-gradient(-45deg, #3b82f6 0, #3b82f6 10px, transparent 10px, transparent 20px);
        background-size: 100% 6pt, 100% 6pt;
        background-position: 0 0, 0 100%;
        background-repeat: no-repeat;
        box-shadow: inset 0 0 0 3pt #dbeafe;
      }

      .border-clouds {
        border: 6pt solid #60a5fa !important;
        position: relative;
        box-shadow: inset 0 0 0 3pt #dbeafe;
      }
      .border-clouds::before {
        content: 'â˜ï¸ â›… ðŸŒ¤ï¸ ðŸŒ¥ï¸ â˜ï¸';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-music {
        border: 6pt solid #a855f7 !important;
        position: relative;
        box-shadow: inset 0 0 0 3pt #f3e8ff;
      }
      .border-music::before {
        content: 'ðŸŽµ ðŸŽ¶ ðŸŽ¼ ðŸŽ¹ ðŸŽ¸';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      /* Interactive Maze Styles */
      .maze-container {
        position: relative;
        transition: transform 0.3s ease;
      }

      .maze-interactive path {
        transition: stroke 0.3s ease, stroke-width 0.3s ease;
      }

      .maze-interactive:hover path {
        stroke: #6366f1 !important;
        stroke-width: 5 !important;
      }

      .maze-start-marker {
        transition: r 0.3s ease, fill 0.3s ease;
        animation: pulse 2s ease-in-out infinite;
      }

      .maze-end-marker {
        transition: r 0.3s ease, fill 0.3s ease;
        animation: pulse 2s ease-in-out infinite;
        animation-delay: 1s;
      }

      @keyframes pulse {
        0%, 100% {
          r: 3;
          opacity: 1;
        }
        50% {
          r: 5;
          opacity: 0.7;
        }
      }

      .maze-interactive:hover .maze-start-marker {
        fill: #059669 !important;
      }

      .maze-interactive:hover .maze-end-marker {
        fill: #dc2626 !important;
      }

      /* Print styles for maze */
      @media print {
        .maze-interactive path {
          stroke: black !important;
          stroke-width: 3 !important;
        }

        .maze-start-marker,
        .maze-end-marker {
          animation: none !important;
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
      }

      /* Fixed A4 dimensions for printable area */
      #printable-area {
        width: 210mm;
        height: 297mm;
        padding: 20mm 15mm;
        box-sizing: border-box;
        overflow: hidden;
      }

      /* Ensure consistent dimensions across all screen sizes */
      @media screen {
        #printable-area {
          max-width: 210mm;
          min-height: 297mm;
        }
      }

      @media print {
        /* Set exact A4 page size with no margins */
        @page {
          size: A4 portrait;
          margin: 0;
        }
        
        /* Reset body for print */
        body {
          margin: 0;
          padding: 0;
          background: white;
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        
        html, body {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        
        /* Hide non-printable elements */
        .no-print {
          display: none !important;
        }
        
        /* Container adjustments */
        #printable-area-container {
          padding: 0 !important;
          margin: 0 !important;
          background: white !important;
        }
        
        /* Fix printable area dimensions untuk print (210mm x 297mm) */
        /* Update padding untuk print safe margins (20mm 15mm) */
        /* Ensure box-sizing: border-box untuk accurate sizing */
        #printable-area {
          width: 210mm !important;
          height: 297mm !important;
          max-width: 210mm !important;
          min-height: 297mm !important;
          margin: 0 !important;
          padding: 20mm 15mm !important;
          box-sizing: border-box !important;
          box-shadow: none !important;
          border-radius: 0 !important;
          overflow: visible !important;
          page-break-inside: avoid;
          background: white !important;
        }
        
        /* Ensure Arabic text renders perfectly in PDF */
        .font-arabic {
          text-rendering: optimizeLegibility !important;
          -webkit-font-smoothing: antialiased !important;
          -moz-osx-font-smoothing: grayscale !important;
          font-synthesis: none !important;
        }
        
        /* Ensure theme backgrounds print properly */
        .theme-space,
        .theme-ocean,
        .theme-garden {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
        
        /* Ensure border decorations print properly - keep consistent with screen */
        .border-simple,
        .border-stars,
        .border-rainbow,
        .border-flowers,
        .border-hearts,
        .border-animals,
        .border-geometric,
        .border-clouds,
        .border-music {
          border-width: 6pt !important;
          box-sizing: border-box !important;
        }
        
        /* Ensure decorative elements print properly with adjusted positioning */
        .border-flowers::before,
        .border-hearts::before,
        .border-animals::before,
        .border-clouds::before,
        .border-music::before {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          top: 2px !important;
          font-size: 18px !important;
          letter-spacing: 8px !important;
        }
        
        /* Optimize exercise cards for print */
        .exercise-card {
          page-break-inside: avoid;
          break-inside: avoid;
          box-sizing: border-box !important;
        }
        
        /* Optimize font sizes dan spacing untuk A4 */
        /* Review dan adjust font sizes untuk optimal readability di A4 */
        /* Update line heights untuk better spacing di print */
        /* Ensure text tidak terlalu kecil atau besar untuk A4 format */
        
        /* Base font size optimization for A4 */
        body {
          font-size: 14px !important; /* Optimal base size for A4 readability */
          line-height: 1.4 !important; /* Improved line spacing for print */
        }
        
        /* Header font sizes - optimized for A4 proportions */
        h1 {
          font-size: 24px !important; /* Main title - readable but not overwhelming */
          line-height: 1.2 !important;
          margin-bottom: 8mm !important;
        }
        
        /* Exercise title optimization */
        .exercise-card p:first-child,
        .text-lg {
          font-size: 16px !important; /* Exercise titles - clear and prominent */
          line-height: 1.3 !important;
          margin-bottom: 6mm !important;
        }
        
        /* Body text optimization */
        .text-base {
          font-size: 14px !important; /* Standard body text */
          line-height: 1.4 !important;
        }
        
        .text-sm {
          font-size: 12px !important; /* Small text - still readable */
          line-height: 1.3 !important;
        }
        
        .text-xs {
          font-size: 10px !important; /* Extra small text - minimum readable size */
          line-height: 1.2 !important;
        }
        
        /* Large display text optimization */
        .text-4xl {
          font-size: 28px !important; /* Math equations, patterns */
          line-height: 1.1 !important;
        }
        
        .text-3xl {
          font-size: 24px !important; /* Large display elements */
          line-height: 1.1 !important;
        }
        
        .text-2xl {
          font-size: 20px !important; /* Medium display elements */
          line-height: 1.2 !important;
        }
        
        .text-xl {
          font-size: 18px !important; /* Slightly larger text */
          line-height: 1.3 !important;
        }
        
        /* Extra large text for tracing and special elements */
        .text-6xl {
          font-size: 36px !important; /* Tracing text - needs to be large but printable */
          line-height: 1.0 !important;
        }
        
        .text-5xl {
          font-size: 32px !important; /* Large emojis and symbols */
          line-height: 1.0 !important;
        }
        
        /* Arabic text optimization */
        .font-arabic {
          font-size: 18px !important; /* Slightly larger for Arabic readability */
          line-height: 1.6 !important; /* Better spacing for Arabic text */
        }
        
        /* Spacing optimizations for A4 */
        .space-y-5 > * + * {
          margin-top: 4mm !important; /* Consistent exercise spacing */
        }
        
        .space-y-4 > * + * {
          margin-top: 3mm !important; /* Tighter spacing for print */
        }
        
        .space-y-3 > * + * {
          margin-top: 2.5mm !important; /* Small element spacing */
        }
        
        .space-y-2 > * + * {
          margin-top: 2mm !important; /* Minimal spacing */
        }
        
        /* Margin and padding optimizations */
        .mb-6 {
          margin-bottom: 5mm !important; /* Exercise card bottom margin */
        }
        
        .mb-5 {
          margin-bottom: 4mm !important;
        }
        
        .mb-4 {
          margin-bottom: 3mm !important;
        }
        
        .mb-3 {
          margin-bottom: 2.5mm !important;
        }
        
        .mb-2 {
          margin-bottom: 2mm !important;
        }
        
        .p-5 {
          padding: 4mm !important; /* Exercise card padding */
        }
        
        .p-4 {
          padding: 3mm !important;
        }
        
        .p-3 {
          padding: 2.5mm !important;
        }
        
        /* Gap optimizations for flexbox layouts */
        .gap-4 {
          gap: 3mm !important;
        }
        
        .gap-3 {
          gap: 2.5mm !important;
        }
        
        .gap-2 {
          gap: 2mm !important;
        }
        
        /* Ensure all elements use border-box sizing for accurate measurements */
        * {
          box-sizing: border-box !important;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>