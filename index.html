<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kids Worksheet Generator</title>
    <!-- Preload Arabic font for better PDF rendering -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Poppins:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Poppins:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap');
      html, body {
        font-family: 'Poppins', sans-serif;
        overflow-x: hidden;
      }
      .font-comic {
        font-family: 'Comic Neue', cursive;
      }
      .font-arabic {
        font-family: 'Amiri', serif;
        font-size: 1.2em;
        line-height: 1.8;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        font-feature-settings: normal;
        font-variant-ligatures: normal;
      }
      .trace-text {
        color: #d1d5db; /* gray-300 */
        border-bottom: 3px solid #9ca3af; /* gray-400 - changed to solid for better PDF rendering */
        letter-spacing: 0.5em;
      }

      /* Improved border for print - increased to 4px for better PDF rendering */
      .border-b-3 {
        border-bottom-width: 4px;
        border-bottom-style: solid;
      }

      /* Ensure answer lines render well in PDF exports */
      .answer-line {
        border-bottom-width: 3px;
        border-bottom-style: solid;
        display: inline-block;
        min-height: 1px;
        vertical-align: middle;
        margin-left: 0.25rem;
        margin-bottom: 0.125rem;
        height: 1.25rem;
        line-height: 1.25rem;
      }

      /* Ensure dotted borders render well in PDF */
      .dotted-line {
        border-bottom-width: 2px;
        border-bottom-style: solid;
        border-bottom-color: currentColor;
        background-image: repeating-linear-gradient(
          to right,
          currentColor 0px,
          currentColor 4px,
          transparent 4px,
          transparent 8px
        );
        background-size: 8px 2px;
        background-position: 0 100%;
        background-repeat: repeat-x;
        border-bottom: none;
      }

      /* Ensure emojis render properly */
      .font-comic span {
        line-height: 1.2;
      }

      /* Custom animations for playful effects */
      @keyframes float {
        0%, 100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes wiggle {
        0%, 100% {
          transform: rotate(0deg);
        }
        25% {
          transform: rotate(-5deg);
        }
        75% {
          transform: rotate(5deg);
        }
      }

      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .animate-wiggle {
        animation: wiggle 2s ease-in-out infinite;
      }

      /* Delay classes for staggered animations */
      .delay-100 {
        animation-delay: 0.1s;
      }

      .delay-200 {
        animation-delay: 0.2s;
      }

      .delay-300 {
        animation-delay: 0.3s;
      }

      /* Theme Backgrounds */
      .theme-space {
        background-color: #f0f4f8;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmMGY0ZjgiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjMwIiByPSIyIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTUwIDYwIEw1MiA1OCBMNTAgNTYgTDUyIDU4IFoiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI4MCIgY3k9IjIwIiByPSIxLjUiIGZpbGw9IiNmZmYiLz48Y2lyY2xlIGN4PSI3MCIgY3k9IjgwIiByPSIzIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTMwIDgwIEwzMiA3OCBMMzAgNzYgTDMyIDc4IFoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=');
      }
      .theme-ocean {
        background-color: #e0f2fe;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNlMGYyZmUiLz48cGF0aCBkPSJNMCAyMCBDIDI1IDAgNTAgNDAgNzUgMjAgQyAxMDAgMCAxMDAgMjAgMTAwIDIwIFYgMTAwIEggMCBaIiBmaWxsPSJub25lIiBzdHJva2U9IiNiZmU2ZjIiIHN0cm9rZS1widthD0iMiIgc3Ryb2tlLW9wYWNpdHk9IjAuNSIvPjxwYXRoIGQ9Ik0wIDUwIEMgMjUgMzAgNTAgNzAgNzUgNTAgQyAxMDAgMzAgMTAwIDUwIDEwMCA1MCBWIDEwMCBIIDAgWiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYmZlNmYyIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1vcGFjaXR5PSIwLjUiLz48Y2lyY2xlIGN4PSIyMCIgY3k9IjgwIiByPSIzIiBmaWxsPSIjYmZlNmYyIiBvcGFjaXR5PSIwLjUiLz48Y2lyY2xlIGN4PSI4MCIgY3k9IjQwIiByPSIyIiBmaWxsPSIjYmZlNmYyIiBvcGFjaXR5PSIwLjUiLz48L3N2Zz4=');
      }
      .theme-garden {
        background-color: #f0fdf4;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+PHJlY3Qgd2lkdGg9IjEwMCIgaGVpZ2h0PSIxMDAiIGZpbGw9IiNmMGZkZjQiLz48cGF0aCBkPSJNNTAgODAgQzQwIDgwIDQwIDcwIDUwIDcwIEM2MCA3MCA2MCA4MCA1MCA4MCBaIiBmaWxsPSIjOGZjYTg2IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNNTAgNzIgQzQ4IDcyIDQ4IDY4IDUwIDY4IEM1MiA2OCA1MiA3MiA1MCA3MiBaIiBmaWxsPSIjZjllNDc4IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNMjAgNDAgQzEwIDQwIDEwIDMwIDIwIDMwIEMzMCAzMCAzMCA0MCAyMCA0MCBaIiBmaWxsPSIjOGZjYTg2IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNMjAgMzIgQzE4IDMyIDE4IDI4IDIwIDI4IEMyMiAyOCAyMiAzMiAyMCAzMiBaIiBmaWxsPSIjZjllNDc4IiBvcGFjaXR5PSIwLjciLz48cGF0aCBkPSJNNCA2MCBDNzAgNjAgNzAgNTAgODAgNTAgQzkAgNTAgOTAgNjAgODAgNjAgWiIgZmlsbD0iIzhmY2E4NiIgb3BhY2l0eT0iMC43Ii8+PHBhdGggZD0iTTgwIDUyIEM3OCA1MiA3OCA0OCA4MCA0OCBDODIgNDggODIgNTIgODAgNTIgWiIgZmlsbD0iI2Y5ZTQ3OCIgb3BhY2l0eT0iMC43Ii8+PC9zdmc+');
      }

      /* Border Themes */
      .border-simple {
        border: 8px solid #9333ea !important;
        box-shadow: 0 0 0 4px #e9d5ff;
      }

      .border-stars {
        border: 8px solid #fbbf24 !important;
        background-image:
          radial-gradient(circle at 10px 10px, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 90% 10px, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 10px 90%, #fbbf24 2px, transparent 2px),
          radial-gradient(circle at 90% 90%, #fbbf24 2px, transparent 2px);
        background-size: 100% 100%;
        background-repeat: no-repeat;
        box-shadow: inset 0 0 0 4px #fef3c7;
      }

      .border-rainbow {
        border: 8px solid transparent !important;
        background-image:
          linear-gradient(white, white),
          linear-gradient(90deg, #ef4444, #f59e0b, #eab308, #22c55e, #3b82f6, #a855f7, #ec4899);
        background-origin: padding-box, border-box;
        background-clip: padding-box, border-box;
        box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
      }

      .border-flowers {
        border: 8px solid #ec4899 !important;
        position: relative;
        box-shadow: inset 0 0 0 4px #fce7f3;
      }
      .border-flowers::before {
        content: 'üå∏ üå∫ üåª üå∑ üåº';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-hearts {
        border: 8px solid #ec4899 !important;
        position: relative;
        box-shadow: inset 0 0 0 4px #fce7f3;
      }
      .border-hearts::before {
        content: 'üíï üíñ üíó üíì üíù';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-animals {
        border: 8px solid #f97316 !important;
        position: relative;
        box-shadow: inset 0 0 0 4px #fed7aa;
      }
      .border-animals::before {
        content: 'üêæ ü¶Å üêò ü¶ä üê®';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-geometric {
        border: 8px solid #3b82f6 !important;
        background-image:
          repeating-linear-gradient(45deg, #3b82f6 0, #3b82f6 10px, transparent 10px, transparent 20px),
          repeating-linear-gradient(-45deg, #3b82f6 0, #3b82f6 10px, transparent 10px, transparent 20px);
        background-size: 100% 8px, 100% 8px;
        background-position: 0 0, 0 100%;
        background-repeat: no-repeat;
        box-shadow: inset 0 0 0 4px #dbeafe;
      }

      .border-clouds {
        border: 8px solid #60a5fa !important;
        position: relative;
        box-shadow: inset 0 0 0 4px #dbeafe;
      }
      .border-clouds::before {
        content: '‚òÅÔ∏è ‚õÖ üå§Ô∏è üå•Ô∏è ‚òÅÔ∏è';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      .border-music {
        border: 8px solid #a855f7 !important;
        position: relative;
        box-shadow: inset 0 0 0 4px #f3e8ff;
      }
      .border-music::before {
        content: 'üéµ üé∂ üéº üéπ üé∏';
        position: absolute;
        top: 4px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 20px;
        background: white;
        padding: 0 10px;
        letter-spacing: 10px;
        z-index: 10;
      }

      /* Interactive Maze Styles */
      .maze-container {
        position: relative;
        transition: transform 0.3s ease;
      }

      .maze-interactive path {
        transition: stroke 0.3s ease, stroke-width 0.3s ease;
      }

      .maze-interactive:hover path {
        stroke: #6366f1 !important;
        stroke-width: 5 !important;
      }

      .maze-start-marker {
        transition: r 0.3s ease, fill 0.3s ease;
        animation: pulse 2s ease-in-out infinite;
      }

      .maze-end-marker {
        transition: r 0.3s ease, fill 0.3s ease;
        animation: pulse 2s ease-in-out infinite;
        animation-delay: 1s;
      }

      @keyframes pulse {
        0%, 100% {
          r: 3;
          opacity: 1;
        }
        50% {
          r: 5;
          opacity: 0.7;
        }
      }

      .maze-interactive:hover .maze-start-marker {
        fill: #059669 !important;
      }

      .maze-interactive:hover .maze-end-marker {
        fill: #dc2626 !important;
      }

      /* Print styles for maze */
      @media print {
        .maze-interactive path {
          stroke: black !important;
          stroke-width: 4 !important;
        }

        .maze-start-marker,
        .maze-end-marker {
          animation: none !important;
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
      }

      @media print {
        body {
          margin: 0;
          padding: 0;
          background: white;
        }
        .no-print {
          display: none !important;
        }
        #printable-area-container {
          padding: 0 !important;
          margin: 0 !important;
          background: white !important;
        }
        #printable-area {
          margin: 0 !important;
          padding: 1.2cm 1cm 1cm 1cm !important;
          box-shadow: none !important;
          width: 21cm !important;
          height: auto !important;
          min-height: 29.7cm !important;
          max-width: 21cm !important;
          page-break-inside: avoid;
          border-radius: 0 !important;
          overflow: visible !important;
        }
        /* Ensure Arabic text renders perfectly in PDF */
        .font-arabic {
          text-rendering: optimizeLegibility !important;
          -webkit-font-smoothing: antialiased !important;
          -moz-osx-font-smoothing: grayscale !important;
          font-synthesis: none !important;
        }
        /* Ensure theme backgrounds print properly */
        .theme-space,
        .theme-ocean,
        .theme-garden {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
        }
        /* Ensure border decorations print properly */
        .border-simple,
        .border-stars,
        .border-rainbow,
        .border-flowers,
        .border-hearts,
        .border-animals,
        .border-geometric,
        .border-clouds,
        .border-music {
          border-width: 4px !important;
        }
        /* Ensure decorative elements print properly with adjusted positioning */
        .border-flowers::before,
        .border-hearts::before,
        .border-animals::before,
        .border-clouds::before,
        .border-music::before {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          top: 2px !important;
          font-size: 18px !important;
          letter-spacing: 8px !important;
        }
        html, body {
          print-color-adjust: exact;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        @page {
          size: A4 portrait;
          margin: 0;
        }
        /* Optimize exercise cards for print */
        .exercise-card {
          page-break-inside: avoid;
          break-inside: avoid;
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>